spring:
  application:
    name: api-gateway
  main:
    allow-bean-definition-overriding: true
  cloud:
    gateway:
      enabled: true
      # Routes are defined in GatewayRoutesConfig.java to avoid duplicate route issue

server:
  port: 8080

# ============================================
# CIRCUIT BREAKER TOGGLE
# Set to false to disable circuit breaker
# Can also be set via env: GATEWAY_CIRCUITBREAKER_ENABLED=false
# ============================================
gateway:
  circuitbreaker:
    enabled: false  # Change to true to enable circuit breaker

logging:
  level:
    root: INFO
    io.github.resilience4j: DEBUG
    org.springframework.cloud.gateway: DEBUG
    org.springframework.cloud.circuitbreaker: DEBUG
    com.example.api_gateway: DEBUG

management:
  endpoints:
    web:
      exposure:
        include: health,info,circuitbreakers,circuitbreakerevents,gateway
  endpoint:
    health:
      probes:
        enabled: true
      show-details: always
    gateway:
      access: unrestricted
  health:
    circuitbreakers:
      enabled: true

# Circuit Breaker configuration is done in Resilience4JConfig.java
# Removed YAML config to avoid conflicts
